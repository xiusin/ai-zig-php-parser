<?php
echo "=== 字符串功能完整测试 ===\n\n";

$name = "张三";
$age = 25;
$price = 100;

// ========== 1. 双引号字符串变量插值 ==========
echo "【测试1】双引号字符串变量插值:\n";
echo "姓名: $name\n";
echo "年龄: $age 岁\n";
echo "混合: 用户 $name 今年 $age 岁\n";
echo "\n";

// ========== 2. 双引号字符串转义 ==========
echo "【测试2】双引号字符串转义:\n";
echo "转义美元符号: \$name 应该显示 \$name\n";
echo "价格标签: \$price = $price 元\n";
echo "反斜杠: \\ 显示一个反斜杠\n";
echo "换行符: 第一行\n第二行\n";
echo "制表符: 列1\t列2\t列3\n";
echo "双引号: \"引用内容\"\n";
echo "\n";

// ========== 3. 单引号字符串（不插值） ==========
echo "【测试3】单引号字符串:\n";
echo '变量不插值: $name 保持原样' . "\n";
echo '转义测试: \' 单引号 和 \\ 反斜杠' . "\n";
echo '其他转义不生效: \n \t \$ 保持原样' . "\n";
echo "\n";

// ========== 4. 反引号多行字符串（完全原始） ==========
echo "【测试4】反引号多行字符串:\n";
$raw = `这是一个
多行的
原始字符串`;
echo $raw . "\n";

$raw2 = `变量不插值: $name $age
转义不生效: \n \t \\ \$ \"
特殊字符: @#$%^&*()`;
echo $raw2 . "\n";
echo "\n";

// ========== 5. 混合使用测试 ==========
echo "【测试5】混合使用:\n";
$double = "双引号: $name";
$single = '单引号: $name';
$backtick = `反引号: $name`;
echo "双引号结果: $double\n";
echo "单引号结果: $single\n";
echo "反引号结果: $backtick\n";
echo "\n";

// ========== 6. 边界情况测试 ==========
echo "【测试6】边界情况:\n";
echo "连续转义: \\\\$name 显示 \\\\$name\n";
echo "美元符号后非变量: $123 和 $@ 保持原样\n";
echo "空字符串: \"\" 和 '' 和 ``\n";
echo "\n";

echo "=== 所有测试完成 ===\n";
