=== 高性能协程安全 HTTP 服务器完整示例 ===

【测试1】协程上下文隔离演示
  上下文 1: counter=1, data=context_1
  上下文 2: counter=1, data=context_2
  上下文 3: counter=1, data=context_3
  上下文 4: counter=1, data=context_4
  上下文 5: counter=1, data=context_5
✅ 上下文隔离测试通过

【测试2】路由系统演示
已注册路由:
  GET /counter
  GET /api/users
  POST /api/users
✅ 路由系统测试通过

【测试3】请求处理模拟
模拟请求1: GET /counter
  响应: counter=1
模拟请求2: GET /counter
  响应: counter=2
模拟请求3: GET /api/users
  响应: 用户数=2
✅ 请求处理测试通过

【测试4】并发请求模拟
✅ 并发请求隔离测试通过(10个请求)

【测试5】中间件系统演示
已注册中间件:
  - 日志中间件
  - 认证中间件
测试请求处理:
  [LOG] 请求路径: /api/users
  [AUTH] 验证通过
✅ 中间件系统测试通过

【测试6】协程安全计数器
  计数器[0] = 1
  计数器[1] = 1
  计数器[2] = 1
  计数器[3] = 1
  计数器[4] = 1
✅ 协程安全计数器测试通过

=== 测试总结 ===
✅ 协程上下文隔离
✅ 路由系统
✅ 请求处理
✅ 并发请求隔离
✅ 中间件系统
✅ 协程安全计数器

所有测试通过! HTTP服务器核心特性运行正常!

=== PHP Interpreter Performance Statistics ===
Function calls: 5
Memory allocations: 0
GC collections: 0
Execution time: 534364000ns
Peak memory usage: 0 bytes
String intern pool size: 10
Call stack depth: 0
===============================================
